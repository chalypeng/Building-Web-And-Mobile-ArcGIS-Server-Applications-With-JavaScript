<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=7, IE=9, IE=10">
	<!--The viewport meta tag is used to improve the presentation and behavior of the samples
	  on iOS devices-->
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=yes">

	<title>Template</title>
	<link rel="stylesheet" href="http://js.arcgis.com/3.7/js/esri/css/esri.css">
	<link rel="stylesheet" href="https://js.arcgis.com/3.7/js/dojo/dijit/themes/claro/claro.css">
	<script src="http://js.arcgis.com/3.7/"></script>

	<style>
		html, body, #mapDiv {
			height: 100%;
			margin: 0;
			padding: 0;
			width: 100%;
		}
	</style>
	<script>
        require([
            "dojo/parser",
            "dojo/ready",
            "dojo/dom",
            "esri/map",
            "esri/arcgis/utils",
            "esri/dijit/Scalebar",
	        "dojo/domReady!"
        ], function (parser,ready,dom,Map,arcgisUtils,Scalebar) {
            var agoId="153c17de00914039bb28f6f6efe6d322";
            var itemDeferred = arcgisUtils.getItem(agoId);

            itemDeferred.addCallback(function (itemInfo) {
	            var mapDeferred = arcgisUtils.createMap(itemInfo,"mapDiv",{
	                mapOptions:{
	                    slider:true,
		                nav:true
	                }
	            });

	            mapDeferred.addCallback(function (response) {
	                map = response.map;
                });

                mapDeferred.addErrback(function (eror) {
                    console.log("Map creation failed: ",json.stringify(error));
                });
            });

            itemDeferred.addErrback(function (error) {
	            console.log("getItem failed: ",json.stringify(error));
            });

//            var map;
//            // Initialize map, GP and image params
//            map = new Map("mapDiv", {
//                basemap: "streets",
//                center: [-117.148, 32.706],
//                zoom: 12
//            });
        });
	</script>
</head>
<body class="claro">
<div id="mapDiv"></div>

</div>
</body>
</html>